openapi: 3.0.0
info:
  contact: {}
  description: API for media models and related types
  title: Models API
  version: "1.0"
paths:
  /internal/apimetadata:
    get:
      description: Internal endpoint used only to ensure APIMetadata schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.APIMetadata"
      summary: Get APIMetadata (schema generation only)
      tags:
        - internal
  /internal/device:
    get:
      description: Internal endpoint used only to ensure Device schema is generated in
        OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Device"
      summary: Get Device (schema generation only)
      tags:
        - internal
  /internal/devicemedia:
    get:
      description: Internal endpoint used only to ensure DeviceMedia schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.DeviceMedia"
      summary: Get DeviceMedia (schema generation only)
      tags:
        - internal
  /internal/deviceplacement:
    get:
      description: Internal endpoint used only to ensure DevicePlacement schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.DevicePlacement"
      summary: Get DevicePlacement (schema generation only)
      tags:
        - internal
  /internal/deviceshort:
    get:
      description: Internal endpoint used only to ensure DeviceShort schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.DeviceShort"
      summary: Get DeviceShort (schema generation only)
      tags:
        - internal
  /internal/deviceswrapper:
    get:
      description: Internal endpoint used only to ensure DevicesWrapper schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.DevicesWrapper"
      summary: Get DevicesWrapper (schema generation only)
      tags:
        - internal
  /internal/devicewrapper:
    get:
      description: Internal endpoint used only to ensure DeviceWrapper schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.DeviceWrapper"
      summary: Get DeviceWrapper (schema generation only)
      tags:
        - internal
  /internal/featurepermissions:
    get:
      description: Internal endpoint used only to ensure FeaturePermissions schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.FeaturePermissions"
      summary: Get FeaturePermissions (schema generation only)
      tags:
        - internal
  /internal/floorplan:
    get:
      description: Internal endpoint used only to ensure FloorPlan schema is generated
        in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.FloorPlan"
      summary: Get FloorPlan (schema generation only)
      tags:
        - internal
  /internal/heartbeat:
    get:
      description: Internal endpoint used only to ensure Heartbeat schema is generated
        in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Heartbeat"
      summary: Get Heartbeat (schema generation only)
      tags:
        - internal
  /internal/heartbeatold:
    get:
      description: Internal endpoint used only to ensure HeartbeatOld schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.HeartbeatOld"
      summary: Get HeartbeatOld (schema generation only)
      tags:
        - internal
  /internal/heartbeatshort:
    get:
      description: Internal endpoint used only to ensure HeartbeatShort schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.HeartbeatShort"
      summary: Get HeartbeatShort (schema generation only)
      tags:
        - internal
  /internal/location:
    get:
      description: Internal endpoint used only to ensure Location schema is generated
        in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Location"
      summary: Get Location (schema generation only)
      tags:
        - internal
  /internal/locationgeometry:
    get:
      description: Internal endpoint used only to ensure LocationGeometry schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.LocationGeometry"
      summary: Get LocationGeometry (schema generation only)
      tags:
        - internal
  /internal/locationgeometrylocation:
    get:
      description: Internal endpoint used only to ensure LocationGeometryLocation
        schema is generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.LocationGeometryLocation"
      summary: Get LocationGeometryLocation (schema generation only)
      tags:
        - internal
  /internal/locationshort:
    get:
      description: Internal endpoint used only to ensure LocationShort schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.LocationShort"
      summary: Get LocationShort (schema generation only)
      tags:
        - internal
  /internal/mediametadata:
    get:
      description: Internal endpoint used only to ensure MediaMetadata schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.MediaMetadata"
      summary: Get MediaMetadata (schema generation only)
      tags:
        - internal
  /internal/mediashort:
    get:
      description: Internal endpoint used only to ensure MediaShort schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.MediaShort"
      summary: Get MediaShort (schema generation only)
      tags:
        - internal
  /internal/mute:
    get:
      description: Internal endpoint used only to ensure Mute schema is generated in
        OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Mute"
      summary: Get Mute (schema generation only)
      tags:
        - internal
  /internal/onvifevents:
    get:
      description: Internal endpoint used only to ensure ONVIFEvents schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ONVIFEvents"
      summary: Get ONVIFEvents (schema generation only)
      tags:
        - internal
  /internal/preset:
    get:
      description: Internal endpoint used only to ensure Preset schema is generated in
        OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Preset"
      summary: Get Preset (schema generation only)
      tags:
        - internal
  /internal/role:
    get:
      description: Internal endpoint used only to ensure Role schema is generated in
        OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Role"
      summary: Get Role (schema generation only)
      tags:
        - internal
  /internal/site:
    get:
      description: Internal endpoint used only to ensure Site schema is generated in
        OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Site"
      summary: Get Site (schema generation only)
      tags:
        - internal
  /internal/siteshort:
    get:
      description: Internal endpoint used only to ensure SiteShort schema is generated
        in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.SiteShort"
      summary: Get SiteShort (schema generation only)
      tags:
        - internal
  /internal/sitewrapper:
    get:
      description: Internal endpoint used only to ensure SiteWrapper schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.SiteWrapper"
      summary: Get SiteWrapper (schema generation only)
      tags:
        - internal
  /internal/timelinevalue:
    get:
      description: Internal endpoint used only to ensure TimelineValue schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.TimelineValue"
      summary: Get TimelineValue (schema generation only)
      tags:
        - internal
  /internal/timewindow:
    get:
      description: Internal endpoint used only to ensure TimeWindow schema is
        generated in OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.TimeWindow"
      summary: Get TimeWindow (schema generation only)
      tags:
        - internal
  /internal/tour:
    get:
      description: Internal endpoint used only to ensure Tour schema is generated in
        OpenAPI spec
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Tour"
      summary: Get Tour (schema generation only)
      tags:
        - internal
  /media:
    post:
      description: Create a new media item
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.Media"
        description: Media object
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.SuccessResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ErrorResponse"
      summary: Create a new media item
      tags:
        - media
  "/media/{id}":
    get:
      description: Get a media item by ID
      parameters:
        - description: Media ID
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Media"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ErrorResponse"
      summary: Get a media item
      tags:
        - media
servers:
  - url: //localhost
components:
  schemas:
    models.APIMetadata:
      properties:
        error: {}
        path:
          type: string
        timestamp:
          type: integer
        user_id:
          type: string
      type: object
    models.Device:
      properties:
        analytics:
          items:
            $ref: "#/components/schemas/models.Heartbeat"
          type: array
        brand:
          type: string
        color:
          type: string
        description:
          type: string
        enterprise:
          type: boolean
        featurePermissions:
          $ref: "#/components/schemas/models.FeaturePermissions"
        fieldOfView:
          type: number
        installationDate:
          type: string
        isActive:
          type: boolean
        key:
          type: string
        lastMaintenance:
          type: string
        latestMedia:
          $ref: "#/components/schemas/models.Media"
        latestMediaTimestamp:
          type: integer
        model:
          type: string
        mute:
          type: integer
        name:
          type: string
        onFloorPlans:
          items:
            type: string
          type: array
        presets:
          items:
            $ref: "#/components/schemas/models.Preset"
          type: array
        sites:
          items:
            $ref: "#/components/schemas/models.SiteShort"
          type: array
        status:
          type: string
        tours:
          items:
            $ref: "#/components/schemas/models.Tour"
          type: array
        user_id:
          type: string
      type: object
    models.DeviceMedia:
      properties:
        camera_name:
          type: string
        key:
          type: string
        media_time:
          type: string
        media_timestamp:
          type: integer
        media_type:
          type: string
        media_url:
          type: string
        sites:
          items:
            $ref: "#/components/schemas/models.SiteShort"
          type: array
        sprite_url:
          type: string
      type: object
    models.DevicePlacement:
      properties:
        color:
          type: string
        createdBy:
          type: string
        createdTime:
          type: integer
        deviceKey:
          type: string
        deviceName:
          type: string
        deviceStatus:
          type: string
        fabricKey:
          type: string
        fieldOfView:
          type: number
        id:
          type: string
        radius:
          type: number
        relativeX:
          description: X relative to canvas width (0 to 1)
          type: number
        relativeY:
          description: Y relative to canvas height (0 to 1)
          type: number
        sliceEndAngle:
          type: number
        sliceMiddleAngle:
          type: number
        sliceStartAngle:
          type: number
        updatedBy:
          type: string
        updatedTime:
          type: integer
        x:
          description: Absolute X coordinate
          type: number
        y:
          description: Absolute Y coordinate
          type: number
      type: object
    models.DeviceShort:
      properties:
        active:
          type: boolean
        analytics:
          items:
            $ref: "#/components/schemas/models.HeartbeatShort"
          type: array
        enterprise:
          type: boolean
        featurePermissions:
          $ref: "#/components/schemas/models.FeaturePermissions"
        key:
          type: string
        latestMedia:
          $ref: "#/components/schemas/models.MediaShort"
        latestMediaTimestamp:
          type: integer
        mute:
          type: integer
        presets:
          items:
            $ref: "#/components/schemas/models.Preset"
          type: array
        sites:
          items:
            $ref: "#/components/schemas/models.SiteShort"
          type: array
        tours:
          items:
            $ref: "#/components/schemas/models.Tour"
          type: array
      type: object
    models.DeviceWrapper:
      properties:
        device:
          $ref: "#/components/schemas/models.Device"
      type: object
    models.DevicesWrapper:
      properties:
        devices:
          items:
            $ref: "#/components/schemas/models.Device"
          type: array
      type: object
    models.ErrorResponse:
      properties:
        error_code:
          description: More specific custom error code or type
          type: string
        message:
          type: string
        meta_data:
          $ref: "#/components/schemas/models.APIMetadata"
        request_id:
          type: string
        status_code:
          type: integer
      type: object
    models.FeaturePermissions:
      properties:
        floorPlans:
          type: integer
        io:
          type: integer
        liveview:
          type: integer
        ptz:
          type: integer
        remote_config:
          type: integer
      type: object
    models.FloorPlan:
      properties:
        created_by:
          type: string
        created_time:
          type: integer
        devices:
          items:
            $ref: "#/components/schemas/models.DevicePlacement"
          type: array
        height:
          type: integer
        id:
          type: string
        image:
          type: string
        name:
          type: string
        updated_by:
          type: string
        updated_time:
          type: integer
        width:
          type: integer
      type: object
    models.Heartbeat:
      properties:
        architecture:
          type: string
        boot_time:
          type: string
        cameraConnected:
          type: string
        cameraname:
          type: string
        cameratype:
          type: string
        cloudpublicKey:
          type: string
        clouduser:
          type: string
        cpuid:
          type: string
        docker:
          type: boolean
        e2e_encryption:
          type: string
        encrypted:
          type: boolean
        encryptedData:
          items:
            type: integer
          type: array
        enterprise:
          type: boolean
        freeMemory:
          type: string
        hasBackChannel:
          type: string
        hash:
          type: string
        hostname:
          type: string
        hub_encryption:
          type: string
        ip_list:
          items:
            type: string
          type: array
        key:
          description: -----------
          type: string
        kios:
          type: boolean
        kubernetes:
          type: boolean
        mac_list:
          items:
            type: string
          type: array
        onvif:
          type: string
        onvif_events_list:
          items:
            $ref: "#/components/schemas/models.ONVIFEvents"
          type: array
        onvif_pantilt:
          type: string
        onvif_presets:
          type: string
        onvif_presets_list:
          items:
            $ref: "#/components/schemas/models.Preset"
          type: array
        onvif_zoom:
          type: string
        processMemory:
          type: string
        raspberrypi:
          type: boolean
        release:
          type: string
        siteID:
          type: string
        timestamp:
          type: integer
        totalMemory:
          type: string
        uptime:
          type: string
        usedMemory:
          type: string
        version:
          type: string
      type: object
    models.HeartbeatOld:
      properties:
        cameraName:
          type: string
        cameraType:
          type: string
        cloudPublicKey:
          type: string
        cloudUser:
          type: string
        cpuId:
          type: string
        docker:
          type: boolean
        enterprise:
          type: boolean
        hash:
          type: string
        key:
          type: string
        kios:
          type: boolean
        kubernetes:
          type: boolean
        onvif:
          type: string
        raspberrypi:
          type: boolean
        siteID:
          type: string
        timestamp:
          type: integer
        uptime:
          description: >-
            Board          string `json:"board,omitempty"`

            Disk1Size      string `json:"disk1Size,omitempty" bson:"disk1size,omitempty"`

            Disk3Size      string `json:"disk3Size,omitempty" bson:"disk3size,omitempty"`

            DiskVDASize    string `json:"diskVDASize,omitempty" bson:"diskvdasize,omitempty"`

            NumberOfFiles  string `json:"numberOfFiles,omitempty" bson:"numberoffiles,omitempty"`

            Temperature    string `json:"temperature,omitempty"`

            WifiSSID       string `json:"wifiSSID,omitempty" bson:"wifissid,omitempty"`

            WifiStrength   string `json:"wifiStrength,omitempty" bson:"wifisstrength,omitempty"`
          type: string
        version:
          type: string
      type: object
    models.HeartbeatShort:
      properties:
        cameraConnected:
          type: string
        cameraname:
          type: string
        e2e_encryption:
          type: string
        enterprise:
          type: boolean
        freeMemory:
          type: string
        hasBackChannel:
          type: string
        hub_encryption:
          type: string
        key:
          type: string
        onvif:
          type: string
        onvif_events_list:
          items:
            $ref: "#/components/schemas/models.ONVIFEvents"
          type: array
        onvif_pantilt:
          type: string
        onvif_presets:
          type: string
        onvif_presets_list:
          items:
            $ref: "#/components/schemas/models.Preset"
          type: array
        onvif_zoom:
          type: string
        processMemory:
          type: string
        release:
          type: string
        timestamp:
          type: integer
        totalMemory:
          type: string
        uptime:
          type: string
        usedMemory:
          type: string
        version:
          type: string
      type: object
    models.Location:
      properties:
        city:
          type: string
        country:
          type: string
        country_short:
          type: string
        description:
          type: string
        formatted_address:
          type: string
        geometry:
          $ref: "#/components/schemas/models.LocationGeometry"
        postal_code:
          type: string
        region:
          type: string
        street:
          type: string
        street_number:
          type: string
      type: object
    models.LocationGeometry:
      properties:
        location:
          $ref: "#/components/schemas/models.LocationGeometryLocation"
      type: object
    models.LocationGeometryLocation:
      properties:
        lat:
          type: number
        lng:
          type: number
      type: object
    models.LocationShort:
      properties:
        description:
          type: string
        formatted_address:
          type: string
        geometry:
          $ref: "#/components/schemas/models.LocationGeometry"
      type: object
    models.Media:
      description: Media model
      properties:
        deviceId:
          description: Media file owner
          type: string
        duration:
          type: integer
        endTimestamp:
          type: integer
        groupId:
          type: string
        metadata:
          description: Metadata
          items:
            $ref: "#/components/schemas/models.MediaMetadata"
          type: array
        organisationId:
          type: string
        spriteFile:
          type: string
        spriteInterval:
          type: integer
        spriteProvider:
          type: string
        spriteUrl:
          type: string
        startTimestamp:
          description: Time window of media file.
          type: integer
        storageSolution:
          description: >-
            Media file information (by default Vault (=kstorage), however might
            change

            in the future (integration with other storage solutions, next to Vault).
          type: string
        thumbnailFile:
          type: string
        thumbnailProvider:
          type: string
        thumbnailUrl:
          type: string
        userId:
          type: string
        videoFile:
          description: Media file information
          type: string
        videoProvider:
          type: string
        videoUrl:
          type: string
      type: object
    models.MediaMetadata:
      properties:
        classifications:
          items:
            type: string
          type: array
        tags:
          items:
            type: string
          type: array
      type: object
    models.MediaShort:
      properties:
        camera_id:
          type: string
        date:
          type: string
        key:
          type: string
        path:
          type: string
        provider:
          type: string
        source:
          type: string
        sprite_url:
          type: string
        spriteFile:
          type: string
        spriteInterval:
          type: integer
        spriteProvider:
          type: string
        src:
          type: string
        thumbnail_url:
          type: string
        thumbnailFile:
          type: string
        thumbnailProvider:
          type: string
        time:
          type: string
        timestamp:
          type: integer
        type:
          type: string
      type: object
    models.Mute:
      properties:
        mute:
          type: integer
      type: object
    models.ONVIFEvents:
      properties:
        key:
          type: string
        timestamp:
          type: integer
        type:
          type: string
        value:
          type: string
      type: object
    models.Preset:
      properties:
        name:
          type: string
        token:
          type: string
        x:
          type: number
        y:
          type: number
        z:
          type: number
      type: object
    models.Role:
      properties:
        featurePermissions:
          $ref: "#/components/schemas/models.FeaturePermissions"
        id:
          type: string
        isActive:
          type: integer
        pages:
          items:
            type: string
          type: array
        role:
          type: string
        roleName:
          type: string
        timeWindow:
          $ref: "#/components/schemas/models.TimeWindow"
        timeWindowActive:
          type: integer
        user_id:
          type: string
      type: object
    models.Site:
      properties:
        access_key:
          type: string
        address:
          $ref: "#/components/schemas/models.Location"
        all_devices:
          description: Calculated on the fly!
          items:
            type: string
          type: array
        color:
          type: string
        country:
          type: string
        created_by:
          type: string
        created_time:
          type: integer
        description:
          type: string
        devices:
          items:
            type: string
          type: array
        floor_plans:
          items:
            $ref: "#/components/schemas/models.FloorPlan"
          type: array
        groups:
          items:
            type: string
          type: array
        id:
          type: string
        initials:
          type: string
        name:
          type: string
        numberOfFloorPlans:
          type: integer
        secret_key:
          type: string
        storage_uri:
          type: string
        street:
          type: string
        updated_by:
          type: string
        updated_time:
          type: integer
        user_id:
          type: string
        username:
          description: added by accident should be removed!
          type: string
      type: object
    models.SiteShort:
      properties:
        address:
          $ref: "#/components/schemas/models.Location"
        color:
          type: string
        id:
          type: string
        initials:
          type: string
        name:
          type: string
      type: object
    models.SiteWrapper:
      properties:
        site:
          $ref: "#/components/schemas/models.Site"
      type: object
    models.SuccessResponse:
      properties:
        message:
          type: string
        meta_data:
          $ref: "#/components/schemas/models.APIMetadata"
        request_id:
          type: string
        status_code:
          type: integer
        success_code:
          type: string
      type: object
    models.TimeWindow:
      properties:
        timeRange1MaxFriday:
          type: number
        timeRange1MaxMonday:
          type: number
        timeRange1MaxSaturday:
          type: number
        timeRange1MaxSunday:
          type: number
        timeRange1MaxThursday:
          type: number
        timeRange1MaxTuesday:
          type: number
        timeRange1MaxWednesday:
          type: number
        timeRange1MinFriday:
          type: number
        timeRange1MinMonday:
          type: number
        timeRange1MinSaturday:
          type: number
        timeRange1MinSunday:
          type: number
        timeRange1MinThursday:
          type: number
        timeRange1MinTuesday:
          type: number
        timeRange1MinWednesday:
          type: number
        timeRange2MaxFriday:
          type: number
        timeRange2MaxMonday:
          type: number
        timeRange2MaxSaturday:
          type: number
        timeRange2MaxSunday:
          type: number
        timeRange2MaxThursday:
          type: number
        timeRange2MaxTuesday:
          type: number
        timeRange2MaxWednesday:
          type: number
        timeRange2MinFriday:
          type: number
        timeRange2MinMonday:
          type: number
        timeRange2MinSaturday:
          type: number
        timeRange2MinSunday:
          type: number
        timeRange2MinThursday:
          type: number
        timeRange2MinTuesday:
          type: number
        timeRange2MinWednesday:
          type: number
      type: object
    models.TimelineValue:
      description: Timeline value model
      properties:
        currentScale:
          type: integer
        currentTime:
          type: integer
        startTime:
          type: integer
        timelineZero:
          type: integer
      type: object
    models.Tour:
      properties:
        current:
          type: integer
        loop:
          type: boolean
        name:
          type: string
        presets:
          items:
            $ref: "#/components/schemas/models.Preset"
          type: array
        running:
          type: boolean
        speed:
          type: number
      type: object
